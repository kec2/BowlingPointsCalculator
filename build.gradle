plugins {
    id 'java'
    id 'application'
    id 'eclipse'
    id "com.github.spotbugs" version "4.0.8"
}

sourceCompatibility = JavaVersion.VERSION_11;
targetCompatibility = JavaVersion.VERSION_11;

repositories {
    jcenter()
}

dependencies {
    implementation 'com.google.code.gson:gson:2.8.6'

    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2'
    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.6.2'

    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.6.2'
}

application {
    mainClassName = 'dk.kec.bowling.Application'
}

run {
    // forward gradle system properties to application's system properties
    systemProperties(System.properties)
}

test {
    useJUnitPlatform()
}

spotbugs {
    ignoreFailures = false
    effort = 'more'
    reportLevel = 'high'
}

// To generate an HTML report instead of XML
tasks.withType(com.github.spotbugs.snom.SpotBugsTask){
      reports {
          xml.enabled = false
          html.enabled = true
    }
}

tasks.eclipse.dependsOn cleanEclipse
